(this["webpackJsonpevernote-clone"]=this["webpackJsonpevernote-clone"]||[]).push([[0],{101:function(e,t,n){},103:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);var o=n(2),c=n.n(o),r=n(21),i=n.n(r),a=(n(101),n(24)),s=n(17),l=n.n(s),d=n(29),u=n(18),p=(n(103),n(52));n(107);p.a.initializeApp({apiKey:"AIzaSyBtavhVRiAyE8VhB76AbQL39BsHP9JpwZs",authDomain:"devdeadviz-evernote-clone.firebaseapp.com",projectId:"devdeadviz-evernote-clone",storageBucket:"devdeadviz-evernote-clone.appspot.com",messagingSenderId:"788873528762",appId:"1:788873528762:web:c250177b75ae8ad12e8983"});var b=p.a.firestore.FieldValue.serverTimestamp(),x=p.a,f=n(11),j=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},newChatBtn:{borderRadius:"0px"},unreadMessage:{color:"red",position:"absolute",top:"0",right:"5px"},newNoteBtn:{width:"100%",height:"35px",borderBottom:"1px solid black",borderRadius:"0px",backgroundColor:"#29487d",color:"white","&:hover":{backgroundColor:"#88a2ce"}},sidebarContainer:{marginTop:"0px",width:"300px",height:"100%",boxSizing:"border-box",float:"left",overflowY:"scroll",overflowX:"hidden"},newNoteInput:{width:"100%",margin:"0px",height:"35px",outline:"none",border:"none",paddingLeft:"5px","&:focus":{outline:"2px solid rgba(81, 203, 238, 1)"}},newNoteSubmitBtn:{width:"100%",backgroundColor:"#28787c",borderRadius:"0px",color:"white"}}},h=n(239),g=n(238),v=n(240),O=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}},N=n(237),m=n(241),w=n(90),I=n.n(w);var S=n(6),y=Object(f.a)(O)((function(e){var t,n=e._index,o=e._note,c=e.selectedNoteIndex,r=e.classes,i=e.selectNote,a=e.deleteNote;return Object(S.jsx)("div",{children:Object(S.jsxs)(N.a,{className:r.listItem,selected:c===n,alignItems:"flex-start",children:[Object(S.jsx)("div",{className:r.textSection,onClick:function(){return i(o,n)},children:Object(S.jsx)(m.a,{primary:o.title,secondary:(t=o.body.substring(0,30),t.replace(/<[^>]*>?/gm,"")+"...")})}),Object(S.jsx)(I.a,{className:r.deleteIcon,onClick:function(){return a(o)}})]})},n)})),k=Object(f.a)(j)((function(e){var t=e.notes,n=e.classes,o=e.selectedNoteIndex,c=e.selectNote,r=e.deleteNote,i=e.newNote,a=e.title,s=e.setTitle,l=e.addingNote,d=e.setAddingNote;return t?Object(S.jsxs)("div",{className:n.sidebarContainer,children:[Object(S.jsx)(g.a,{onClick:function(){d(!l),s(null)},className:n.newNoteBtn,children:l?"Cancel":"New Note"}),l?Object(S.jsxs)("div",{children:[Object(S.jsx)("input",{type:"text",placeholder:"Enter note title",onKeyUp:function(e){return t=e.target.value,void s(t);var t}}),Object(S.jsx)(g.a,{className:n.newNoteSubmitBtn,onClick:function(){return i(a)},children:"Submit Note"})]}):null,Object(S.jsx)(h.a,{children:t.map((function(e,t){return Object(S.jsxs)("div",{children:[Object(S.jsx)(y,{_note:e,_index:t,selectedNoteIndex:o,selectNote:c,deleteNote:r}),Object(S.jsx)(v.a,{})]},t)}))})]}):Object(S.jsx)("div",{})})),C=n(91),B=n.n(C),T=n(92),z=n.n(T),A=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},titleInput:{height:"50px",boxSizing:"border-box",border:"none",padding:"5px",fontSize:"24px",width:"calc(100% - 300px)",backgroundColor:"#29487d",color:"white",paddingLeft:"50px"},editIcon:{position:"absolute",left:"310px",top:"12px",color:"white",width:"10",height:"10"},editorContainer:{height:"100%",boxSizing:"border-box"}}},E=Object(f.a)(A)((function(e){var t=e.classes,n=(e.notes,e.setNotes,e.selectedNote),c=(e.setSelectedNote,e.selectedNoteIndex,e.setSelectedNoteIndex,e.title),r=e.setTitle,i=e.noteUpdate,a=(e.id,e.setId),s=e.text,u=e.setText,p=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:console.log("body",t),b(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=Object(o.useRef)(function(e,t,n){var o,c;return function(){function r(){o=null,n||(c=e.apply(i,a))}var i=this,a=arguments;return clearTimeout(o),o=setTimeout(r,t),n&&!o&&(c=e.apply(i,a)),c}}((function(e){console.log("ID",n.id),i(n.id,{title:n.title,body:e})}),1500)).current,x=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:b();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){u(n.body),r(n.title),a(n.id)}),[n,a,u,r]),Object(S.jsxs)("div",{className:t.editorContainer,children:[Object(S.jsx)(z.a,{className:t.editIcon}),Object(S.jsx)("input",{className:t.titleInput,placeholder:"Note title...",value:c||"",onChange:function(e){return x(e)}}),Object(S.jsx)(B.a,{value:s,onChange:function(e){return p(e)}})]})})),F=function(){var e=Object(o.useState)(null),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)(null),i=Object(u.a)(r,2),s=i[0],p=i[1],f=Object(o.useState)([]),j=Object(u.a)(f,2),h=j[0],g=j[1],v=Object(o.useState)(!1),O=Object(u.a)(v,2),N=O[0],m=O[1],w=Object(o.useState)(null),I=Object(u.a)(w,2),y=I[0],C=I[1],B=Object(o.useState)(null),T=Object(u.a)(B,2),z=T[0],A=T[1],F=Object(o.useState)(null),L=Object(u.a)(F,2),R=L[0],_=L[1],D=function(e,t){p(e),c(t),console.log("App",s,n)},J=function(){var e=Object(d.a)(l.a.mark((function e(t){var o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete: ".concat(t.title))){e.next=6;break}return o=h.indexOf(t),e.next=4,g(h.filter((function(e){return e!==t})));case 4:n===o?(c(null),p(null)):(h.length>1?D(h[n-1],n-1):c(null),p(null)),x.firestore().collection("notes").doc(t.id).delete();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,o,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:t,body:""},e.next=3,x.firestore().collection("notes").add({title:n.title,body:n.body,timestamp:b});case 3:return o=e.sent,r=o.id,e.next=7,g([].concat(Object(a.a)(h),[n]));case 7:i=h.indexOf(h.filter((function(e){return e.id===r[0]}))),console.log("index",h[i]),p(h[i]),c(i),C(null),m(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){x.firestore().collection("notes").onSnapshot((function(e){var t=e.docs.map((function(e){var t=e.data();return t.id=e.id,t}));g(t)}))}),[]),Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(k,{notes:h,selectedNoteIndex:n,selectNote:D,deleteNote:J,newNote:P,addingNote:N,setAddingNote:m,title:y,setTitle:C}),s&&Object(S.jsx)(E,{notes:h,setNotes:g,selectedNote:s,setSelectedNote:p,selectedNoteIndex:n,setSelectedNoteIndex:c,title:y,setTitle:C,noteUpdate:function(e,t){e&&x.firestore().collection("notes").doc(e).update({title:t.title,body:t.body,timestamp:b})},id:R,setId:_,text:z,setText:A})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,242)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),o(e),c(e),r(e),i(e)}))};i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(F,{})}),document.getElementById("root")),L()}},[[219,1,2]]]);
//# sourceMappingURL=main.86897522.chunk.js.map